<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <!--Project views-->
    <data>
        <!--Form view-->
        <record id="vtt_view_form_project_project_type" model="ir.ui.view">
            <field name="name">Project Form add Type</field>
            <field name="model">project.project</field>
            <field name="inherit_id" ref="project.edit_project"/>
            <field name="arch" type="xml">
                <field name="tag_ids" position="before">
                    <field name="project_type_id"/>
                </field>

                <field name="user_id" position="after">
                    <field name="analytic_account_id" groups="account.group_account_user" context="{'default_name': name, 'default_partner_id': partner_id,}"/>
                </field>

                <!--Add new buttons-->
                <!--<header position="inside">
                    <button name="create_analytic_account" string="Create Account" invisible="analytic_account_id != False" type="object" groups="account.group_account_readonly"/>
                </header>-->

                <div name="button_box" position="inside">
                    <button class="oe_stat_button" name="view_analytic_account" type="object" icon="fa-pencil-square-o" groups="account.group_account_readonly" invisible="analytic_account_id == False">
                        <div class="o_form_field o_stat_info">
                            <span class="o_stat_text">Gross Margin</span>
                            <span class="o_stat_value">
                                <field name="project_balance" widget="monetary"/>
                            </span>
                        </div>
                    </button>
                </div>
            </field>
        </record>

        <!--Search view-->
        <record id="vtt_view_search_project_project_type" model="ir.ui.view">
            <field name="name">Project Filter add Type</field>
            <field name="model">project.project</field>
            <field name="inherit_id" ref="project.view_project_project_filter"/>
            <field name="arch" type="xml">
                <field name="tag_ids" position="before">
                    <field name="project_type_id"/>
                </field>

                <filter name="tags" position="before">
                    <filter string="Types" name="project_types" context="{'group_by': 'project_type_id'}"/>
                </filter>
            </field>
        </record>

        <!--Kanban view add Task Hierarchy General-->
        <record id="vtt_view_kanban_project_project_task_hierarchy" model="ir.ui.view">
            <field name="name">Project Kanban add Task General</field>
            <field name="model">project.project</field>
            <field name="inherit_id" ref="project.view_project_kanban"/>
            <field name="arch" type="xml">
                <div name="project_burndown_menu" position="before">
                    <div role="menuitem" name="project_task_hierarchy" groups="project.group_project_user">
                        <a name="action_view_tasks_hierarchy_general" type="object">Tasks General</a>
                    </div>
                </div>
            </field>
        </record>
    </data>

    <!--Actions-->
    <data>
        <!--Project Task action default List mode-->
        <record id="project.project_task_tree_action_view" model="ir.actions.act_window.view">
            <field name="sequence" eval="5"/>
            <!--<field name="view_mode">tree</field>
            <field name="act_window_id" ref="project.act_project_project_2_project_task_all"/>-->
        </record>
    </data>
</odoo>