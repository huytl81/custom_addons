<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <!--Sale Order views-->
    <data>
        <!--Form view-->
        <record id="vtt_view_form_sale_order_custom_description" model="ir.ui.view">
            <field name="name">Sale Order Form add Custom Description</field>
            <field name="model">sale.order</field>
            <field name="inherit_id" ref="sale.view_order_form"/>
            <field name="arch" type="xml">

                <page name="other_information" position="before">
                    <page name="custom_description" string="Order Description">
                        <group>
                            <group>
                                <field name="vtt_shipping_address_str"/>
                            </group>
                            <group>
                                <field name="vtt_price_include_str"/>
                                <field name="vtt_commitment_date_str"/>
                                <field name="vtt_payment_policy_str"/>
                                <field name="vtt_quotation_due_str"/>
                            </group>
                        </group>
                    </page>
                </page>

                <!--Product do not display default code-->
                <xpath expr="//page[@name='order_lines']/field[@name='order_line']/tree/field[@name='product_id']" position="attributes">
                    <attribute name="context">
                        {
                        'partner_id': parent.partner_id,
                        'quantity': product_uom_qty,
                        'pricelist': parent.pricelist_id,
                        'uom':product_uom,
                        'company_id': parent.company_id,
                        'default_lst_price': price_unit,
                        'default_description_sale': name,
                        'display_default_code': False
                        }
                    </attribute>
                </xpath>

                <!--Add Contact-->
                <field name="partner_id" position="after">
                    <field name="contact_id" domain="[('parent_id', '=', partner_id)]" context="{'default_parent_id': partner_id, 'default_type': 'contact', 'default_is_company': False}" invisible="not partner_id"/>
                </field>
            </field>
        </record>

        <!--<record id="vtt_view_form_sale_order_project_modify" model="ir.ui.view">
            <field name="name">Sale Order Form modify Project Reference</field>
            <field name="model">sale.order</field>
            <field name="inherit_id" ref="sale_project.view_order_form_inherit_sale_project"/>
            <field name="arch" type="xml">
                <button name="action_create_project" position="attributes">
                    <attribute name="invisible">not show_create_project_button or state != 'sale'</attribute>
                </button>
            </field>
        </record>-->

        <!--Tree view add column-->
        <record id="vtt_view_tree_sale_order_inherited" model="ir.ui.view">
            <field name="name">Sale Order List VHB Inherited</field>
            <field name="model">sale.order</field>
            <field name="inherit_id" ref="sale.sale_order_tree"/>
            <field name="arch" type="xml">
                <field name="amount_total" position="after">
                    <field name="vtt_amount_reduced" widget="monetary" optional="hide"/>
                </field>
            </field>
        </record>
    </data>
</odoo>